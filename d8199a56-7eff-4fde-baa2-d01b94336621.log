"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:29.944Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9596d00ac52f41418d2a2a291fe2929c\",\"cell_num\":15,\"cell_source\":\"with open("data/task1/jetnet_logs.txt") as fp:\n    for n, line in tqdm(enumerate(fp)):\n    #     if n > 500: break\n        line = line.strip()\n        if line:\n            l = line.split(\\":\\", 1)\n            ids = l[0].replace("@", "")\n            l = l[1]\n            l = l.replace("-->", "\\t").replace("->", "\\t").strip().split("\\t")\n            for i, action in enumerate(np.array(l)):\n                action = action.strip().split(\\" \\", 1)\n                data = [ids, -1, "", ""]\n                if len(action) == 2:\n    #                 print(action)\n                    data[1]= i\n                    data[2] = action[1].strip()[1:-1]\n                    data[3] = action[0].strip()\n                try: \n                    df.loc[len(df)] = data\n                    print(data)\n                except:\n                    continue\n            gc.collect()\n    #         actions = l[1][1,:1]\n    #         print(actions)\n    #         timestamps = [t[1] for t in l[1]]\n    #         if actions[-1] == "END":\n    #             actions = actions[:-1]\n    #             data[-1] = timestamps[-1]\n    #             timestamps = timestamps[:-1]\n\n    #         data.append([col.strip().split(" ")[0] for col in parts[1].strip().split(" -> ")])  \ndf\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:29.945Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9596d00ac52f41418d2a2a291fe2929c\",\"cell_num\":15,\"cell_source\":\"with open("data/task1/jetnet_logs.txt") as fp:\n    for n, line in tqdm(enumerate(fp)):\n    #     if n > 500: break\n        line = line.strip()\n        if line:\n            l = line.split(\\":\\", 1)\n            ids = l[0].replace("@", "")\n            l = l[1]\n            l = l.replace("-->", "\\t").replace("->", "\\t").strip().split("\\t")\n            for i, action in enumerate(np.array(l)):\n                action = action.strip().split(\\" \\", 1)\n                data = [ids, -1, "", ""]\n                if len(action) == 2:\n    #                 print(action)\n                    data[1]= i\n                    data[2] = action[1].strip()[1:-1]\n                    data[3] = action[0].strip()\n                try: \n                    df.loc[len(df)] = data\n                    print(data)\n                except:\n                    continue\n            gc.collect()\n    #         actions = l[1][1,:1]\n    #         print(actions)\n    #         timestamps = [t[1] for t in l[1]]\n    #         if actions[-1] == "END":\n    #             actions = actions[:-1]\n    #             data[-1] = timestamps[-1]\n    #             timestamps = timestamps[:-1]\n\n    #         data.append([col.strip().split(" ")[0] for col in parts[1].strip().split(" -> ")])  \ndf\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:29.945Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9596d00ac52f41418d2a2a291fe2929c\",\"cell_num\":15,\"cell_source\":\"with open("data/task1/jetnet_logs.txt") as fp:\n    for n, line in tqdm(enumerate(fp)):\n    #     if n > 500: break\n        line = line.strip()\n        if line:\n            l = line.split(\\":\\", 1)\n            ids = l[0].replace("@", "")\n            l = l[1]\n            l = l.replace("-->", "\\t").replace("->", "\\t").strip().split("\\t")\n            for i, action in enumerate(np.array(l)):\n                action = action.strip().split(\\" \\", 1)\n                data = [ids, -1, "", ""]\n                if len(action) == 2:\n    #                 print(action)\n                    data[1]= i\n                    data[2] = action[1].strip()[1:-1]\n                    data[3] = action[0].strip()\n                try: \n                    df.loc[len(df)] = data\n                    print(data)\n                except:\n                    continue\n            gc.collect()\n    #         actions = l[1][1,:1]\n    #         print(actions)\n    #         timestamps = [t[1] for t in l[1]]\n    #         if actions[-1] == "END":\n    #             actions = actions[:-1]\n    #             data[-1] = timestamps[-1]\n    #             timestamps = timestamps[:-1]\n\n    #         data.append([col.strip().split(" ")[0] for col in parts[1].strip().split(" -> ")])  \ndf\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:29.945Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9596d00ac52f41418d2a2a291fe2929c\",\"cell_num\":15,\"cell_source\":\"with open("data/task1/jetnet_logs.txt") as fp:\n    for n, line in tqdm(enumerate(fp)):\n    #     if n > 500: break\n        line = line.strip()\n        if line:\n            l = line.split(\\":\\", 1)\n            ids = l[0].replace("@", "")\n            l = l[1]\n            l = l.replace("-->", "\\t").replace("->", "\\t").strip().split("\\t")\n            for i, action in enumerate(np.array(l)):\n                action = action.strip().split(\\" \\", 1)\n                data = [ids, -1, "", ""]\n                if len(action) == 2:\n    #                 print(action)\n                    data[1]= i\n                    data[2] = action[1].strip()[1:-1]\n                    data[3] = action[0].strip()\n                try: \n                    df.loc[len(df)] = data\n                    print(data)\n                except:\n                    continue\n            gc.collect()\n    #         actions = l[1][1,:1]\n    #         print(actions)\n    #         timestamps = [t[1] for t in l[1]]\n    #         if actions[-1] == "END":\n    #             actions = actions[:-1]\n    #             data[-1] = timestamps[-1]\n    #             timestamps = timestamps[:-1]\n\n    #         data.append([col.strip().split(" ")[0] for col in parts[1].strip().split(" -> ")])  \ndf\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:32.635Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"kernel_restarting\",\"cell_index\":\"\",\"cell_num\":15,\"cell_source\":\"\",\"cell_type\":\"\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:33.499Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"execute\",\"cell_index\":\"8fd58da2205544c1a978c43701cd5678\",\"cell_num\":15,\"cell_source\":\"# # Do not forget to check if your notebook log collection plugin is working\nfrom mining_extension import check_logging\ncheck_logging(\\"http://3.249.245.244:9999\\")\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:33.500Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"execute\",\"cell_index\":\"903fef7eb83446d29d42de5661e6b7fc\",\"cell_num\":15,\"cell_source\":\"# !pip install pandas\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:33.501Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"execute\",\"cell_index\":\"6ac6db6a5033460180b37f89fc9b8c95\",\"cell_num\":15,\"cell_source\":\"# !pip install scikit-learn\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:33.502Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"execute\",\"cell_index\":\"4aa95e6a3e284d6f8ec815340d332de6\",\"cell_num\":15,\"cell_source\":\"# !pip install catboost\n# !pip install xgboost\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:33.503Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"execute\",\"cell_index\":\"26c41fc4c1864ad4814d8ab02d01148f\",\"cell_num\":15,\"cell_source\":\"# pip install alive-progress\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:33.503Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"execute\",\"cell_index\":\"47102fd6b26549aba8cb79078dbbf4b4\",\"cell_num\":15,\"cell_source\":\"# !pip install tqdm\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:33.504Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"execute\",\"cell_index\":\"8b87e7fbef694e5d825e7bc0ac797d7d\",\"cell_num\":15,\"cell_source\":\"import pandas as pd\nimport sklearn\nimport catboost\nimport sklearn.feature_extraction.text\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.tree import DecisionTreeClassifier\nfrom catboost import CatBoostClassifier\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.metrics import roc_auc_score\nfrom sklearn.model_selection import train_test_split\nimport matplotlib.pyplot as plt\nfrom xgboost import XGBClassifier\nfrom sklearn.metrics import accuracy_score\nimport numpy as np\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:33.505Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"execute\",\"cell_index\":\"7eda39da61164b78a10cdaf2e0142037\",\"cell_num\":15,\"cell_source\":\"import time\nfrom tqdm import tqdm\nimport gc\n\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:33.506Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"execute\",\"cell_index\":\"3426c5f449ff44df8bbf05dfaaf11f38\",\"cell_num\":15,\"cell_source\":\"import zipfile\nwith zipfile.ZipFile("data/task1/jetnet_logs.zip", "r") as zip_ref:\n    zip_ref.extractall("data/task1")\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:33.507Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"execute\",\"cell_index\":\"13a28137d1fa416f8fd6beba844021de\",\"cell_num\":15,\"cell_source\":\"data = pd.read_csv("data/task1/jetnet_logs.txt", delimiter="\\t")\ndata.head()\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:33.508Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"execute\",\"cell_index\":\"9914a74a31554c1f9ea9e0315523e4ee\",\"cell_num\":15,\"cell_source\":\"with open("data/task1/jetnet_logs.txt") as f:\n    content = f.readline()\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:33.508Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"execute\",\"cell_index\":\"fce82094ae7e44cd863f4db9fb14c77b\",\"cell_num\":15,\"cell_source\":\"l = content.strip().split(\\":\\", 1)\n# print(l[1])\nl[1] = l[1].replace("-->", "->").strip().split("->")\n# print(l[1])\nl[1] = list(map(lambda x: x.strip().split(\\" \\", 1), l[1]))\n# actions = [t[0] for t in l[1]]\n# timestamps = [t[1] for t in l[1]]\nl\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"172.29.66.3\",\"time\":\"2023-05-06T12:38:33.509Z\",\"kernel_id\":\"d8199a56-7eff-4fde-baa2-d01b94336621\",\"notebook_name\":\"task1.ipynb\",\"event\":\"execute\",\"cell_index\":\"fbbe38e963e146ce8584a2f91d572810\",\"cell_num\":15,\"cell_source\":\"f = open("data/task1/jetnet_logs.txt")\nlines = f.readlines()\ncolumns = ["user_id", "session_num", "action_time","action_name"]\ndf = pd.DataFrame([], columns = columns)\ndf\",\"cell_type\":\"code\",\"session_id\":\"d2b671be-6f02-425c-8b81-1e7bbc3bff30\",\"cell_output\":null}"[EVENT_SEPARATOR]
